\hypertarget{main_8cpp}{}\section{src/main.cpp File Reference}
\label{main_8cpp}\index{src/main.\+cpp@{src/main.\+cpp}}
{\ttfamily \#include $<$Arduino.\+h$>$}\newline
{\ttfamily \#include $<$imxrt.\+h$>$}\newline
{\ttfamily \#include \char`\"{}./../code/software/multi\+\_\+tau.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}./../code/hardware/pit.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}./../code/hardware/pins.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}./../code/hardware/qtmr1.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}./../code/hardware/utilities.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}./../code/hardware/ledpanel.\+hpp\char`\"{}}\newline
Include dependency graph for main.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{main_8cpp__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{main_8cpp_a0ae4ccba91e13ad636bfb5099898d27d}{C\+H\+A\+N\+N\+E\+L\+\_\+\+S\+I\+ZE}~171
\begin{DoxyCompactList}\small\item\em Gate time precision error due to finite precision of timers. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{main_8cpp_a4fc8f622f69a856a51bd3d4b1b42233a}{isr\+\_\+fn} ()
\begin{DoxyCompactList}\small\item\em I\+SR function used for processing counter values. \end{DoxyCompactList}\item 
void \hyperlink{main_8cpp_a4fc01d736fe50cf5b977f755b675f11d}{setup} ()
\begin{DoxyCompactList}\small\item\em Setup function for Initalization and setup. \end{DoxyCompactList}\item 
void \hyperlink{main_8cpp_afe461d27b9c48d5921c00d521181f12f}{loop} ()
\begin{DoxyCompactList}\small\item\em Loop function that processes the updates from the counters. \end{DoxyCompactList}\item 
int \hyperlink{main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{main} ()
\begin{DoxyCompactList}\small\item\em Main Function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMultiTau__ACorr__RT__Teensy}{Multi\+Tau\+\_\+\+A\+Corr\+\_\+\+R\+T\+\_\+\+Teensy}$<$ L\+I\+N\+\_\+\+C\+O\+R\+RS, S\+E\+R\+I\+E\+S\+\_\+\+S\+I\+ZE, B\+I\+N\+\_\+\+R\+A\+T\+IO $>$ \hyperlink{main_8cpp_a5aa70a1764ec170a506e2f796777a933}{multitau}
\item 
\hyperlink{classPITController}{P\+I\+T\+Controller}$<$ P\+I\+T\+\_\+\+C\+H\+A\+N\+N\+E\+L\+\_\+\+I\+N\+\_\+\+U\+SE $>$ \hyperlink{main_8cpp_af11c331fc1c91504e3f7d2dccf67b739}{P\+I\+\_\+t}
\begin{DoxyCompactList}\small\item\em P\+I\+\_\+t Resource. \end{DoxyCompactList}\item 
\hyperlink{classTMR1Controller}{T\+M\+R1\+Controller} \hyperlink{main_8cpp_a691981c43e1bdddca6df5accb6927331}{T\+T\+L\+\_\+c}
\begin{DoxyCompactList}\small\item\em T\+T\+L\+\_\+c Resource. \end{DoxyCompactList}\item 
volatile \hyperlink{types_8hpp_a22f279793847eba127de149437848c48}{counter\+\_\+t} \hyperlink{main_8cpp_afcac7adcea259024440f8d9257d82d08}{Counter\+\_\+val} = 0
\begin{DoxyCompactList}\small\item\em Stores the value read from the counter. \end{DoxyCompactList}\item 
volatile bool \hyperlink{main_8cpp_afaf7617e9ce0486d54a6c65fedeaf1f9}{Update\+\_\+flag} = false
\begin{DoxyCompactList}\small\item\em Indicates if a new value has arrived from the counting module. \end{DoxyCompactList}\item 
volatile unsigned int \hyperlink{main_8cpp_aec1fbfd9bfc90e447b39a9362a0c51de}{Update\+\_\+count} = 0
\begin{DoxyCompactList}\small\item\em Stores the number of updates made on the correlator channels since the last serialout. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{main_8cpp_a7687ee385c82b3ac600720b79678755a}{Serial\+Out\+\_\+\+After} = 100000
\item 
const double \hyperlink{main_8cpp_a1d18182f432f5b88cf58be9c367be457}{Gate\+\_\+time\+\_\+us} = 500
\begin{DoxyCompactList}\small\item\em Serial output is done after these many updates. \end{DoxyCompactList}\item 
const double \hyperlink{main_8cpp_ada17f1639ca8a5932f17942031baa67f}{Allowed\+\_\+period\+\_\+error\+\_\+us} = 1
\begin{DoxyCompactList}\small\item\em The gate time of T\+T\+L\+\_\+C in microseconds (us) \end{DoxyCompactList}\item 
int \hyperlink{main_8cpp_a28accc555688fa589a8d5848f17938ef}{array} \mbox{[}\hyperlink{main_8cpp_a0ae4ccba91e13ad636bfb5099898d27d}{C\+H\+A\+N\+N\+E\+L\+\_\+\+S\+I\+ZE}\mbox{]}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{main_8cpp_a0ae4ccba91e13ad636bfb5099898d27d}\label{main_8cpp_a0ae4ccba91e13ad636bfb5099898d27d}} 
\index{main.\+cpp@{main.\+cpp}!C\+H\+A\+N\+N\+E\+L\+\_\+\+S\+I\+ZE@{C\+H\+A\+N\+N\+E\+L\+\_\+\+S\+I\+ZE}}
\index{C\+H\+A\+N\+N\+E\+L\+\_\+\+S\+I\+ZE@{C\+H\+A\+N\+N\+E\+L\+\_\+\+S\+I\+ZE}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{C\+H\+A\+N\+N\+E\+L\+\_\+\+S\+I\+ZE}{CHANNEL\_SIZE}}
{\footnotesize\ttfamily \#define C\+H\+A\+N\+N\+E\+L\+\_\+\+S\+I\+ZE~171}



Gate time precision error due to finite precision of timers. 



\subsection{Function Documentation}
\mbox{\Hypertarget{main_8cpp_a4fc8f622f69a856a51bd3d4b1b42233a}\label{main_8cpp_a4fc8f622f69a856a51bd3d4b1b42233a}} 
\index{main.\+cpp@{main.\+cpp}!isr\+\_\+fn@{isr\+\_\+fn}}
\index{isr\+\_\+fn@{isr\+\_\+fn}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{isr\+\_\+fn()}{isr\_fn()}}
{\footnotesize\ttfamily void isr\+\_\+fn (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



I\+SR function used for processing counter values. 

\mbox{\Hypertarget{main_8cpp_afe461d27b9c48d5921c00d521181f12f}\label{main_8cpp_afe461d27b9c48d5921c00d521181f12f}} 
\index{main.\+cpp@{main.\+cpp}!loop@{loop}}
\index{loop@{loop}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{loop()}{loop()}}
{\footnotesize\ttfamily void loop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Loop function that processes the updates from the counters. 

\mbox{\Hypertarget{main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}\label{main_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}} 
\index{main.\+cpp@{main.\+cpp}!main@{main}}
\index{main@{main}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Main Function. 

\mbox{\Hypertarget{main_8cpp_a4fc01d736fe50cf5b977f755b675f11d}\label{main_8cpp_a4fc01d736fe50cf5b977f755b675f11d}} 
\index{main.\+cpp@{main.\+cpp}!setup@{setup}}
\index{setup@{setup}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{setup()}{setup()}}
{\footnotesize\ttfamily void setup (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Setup function for Initalization and setup. 



\subsection{Variable Documentation}
\mbox{\Hypertarget{main_8cpp_ada17f1639ca8a5932f17942031baa67f}\label{main_8cpp_ada17f1639ca8a5932f17942031baa67f}} 
\index{main.\+cpp@{main.\+cpp}!Allowed\+\_\+period\+\_\+error\+\_\+us@{Allowed\+\_\+period\+\_\+error\+\_\+us}}
\index{Allowed\+\_\+period\+\_\+error\+\_\+us@{Allowed\+\_\+period\+\_\+error\+\_\+us}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{Allowed\+\_\+period\+\_\+error\+\_\+us}{Allowed\_period\_error\_us}}
{\footnotesize\ttfamily const double Allowed\+\_\+period\+\_\+error\+\_\+us = 1}



The gate time of T\+T\+L\+\_\+C in microseconds (us) 

\mbox{\Hypertarget{main_8cpp_a28accc555688fa589a8d5848f17938ef}\label{main_8cpp_a28accc555688fa589a8d5848f17938ef}} 
\index{main.\+cpp@{main.\+cpp}!array@{array}}
\index{array@{array}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{array}{array}}
{\footnotesize\ttfamily int array\mbox{[}\hyperlink{main_8cpp_a0ae4ccba91e13ad636bfb5099898d27d}{C\+H\+A\+N\+N\+E\+L\+\_\+\+S\+I\+ZE}\mbox{]}}

\mbox{\Hypertarget{main_8cpp_afcac7adcea259024440f8d9257d82d08}\label{main_8cpp_afcac7adcea259024440f8d9257d82d08}} 
\index{main.\+cpp@{main.\+cpp}!Counter\+\_\+val@{Counter\+\_\+val}}
\index{Counter\+\_\+val@{Counter\+\_\+val}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{Counter\+\_\+val}{Counter\_val}}
{\footnotesize\ttfamily volatile \hyperlink{types_8hpp_a22f279793847eba127de149437848c48}{counter\+\_\+t} Counter\+\_\+val = 0}



Stores the value read from the counter. 

\mbox{\Hypertarget{main_8cpp_a1d18182f432f5b88cf58be9c367be457}\label{main_8cpp_a1d18182f432f5b88cf58be9c367be457}} 
\index{main.\+cpp@{main.\+cpp}!Gate\+\_\+time\+\_\+us@{Gate\+\_\+time\+\_\+us}}
\index{Gate\+\_\+time\+\_\+us@{Gate\+\_\+time\+\_\+us}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{Gate\+\_\+time\+\_\+us}{Gate\_time\_us}}
{\footnotesize\ttfamily const double Gate\+\_\+time\+\_\+us = 500}



Serial output is done after these many updates. 

\mbox{\Hypertarget{main_8cpp_a5aa70a1764ec170a506e2f796777a933}\label{main_8cpp_a5aa70a1764ec170a506e2f796777a933}} 
\index{main.\+cpp@{main.\+cpp}!multitau@{multitau}}
\index{multitau@{multitau}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{multitau}{multitau}}
{\footnotesize\ttfamily \hyperlink{classMultiTau__ACorr__RT__Teensy}{Multi\+Tau\+\_\+\+A\+Corr\+\_\+\+R\+T\+\_\+\+Teensy}$<$L\+I\+N\+\_\+\+C\+O\+R\+RS, S\+E\+R\+I\+E\+S\+\_\+\+S\+I\+ZE, B\+I\+N\+\_\+\+R\+A\+T\+IO$>$ multitau}

\mbox{\Hypertarget{main_8cpp_af11c331fc1c91504e3f7d2dccf67b739}\label{main_8cpp_af11c331fc1c91504e3f7d2dccf67b739}} 
\index{main.\+cpp@{main.\+cpp}!P\+I\+\_\+t@{P\+I\+\_\+t}}
\index{P\+I\+\_\+t@{P\+I\+\_\+t}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{P\+I\+\_\+t}{PI\_t}}
{\footnotesize\ttfamily \hyperlink{classPITController}{P\+I\+T\+Controller}$<$P\+I\+T\+\_\+\+C\+H\+A\+N\+N\+E\+L\+\_\+\+I\+N\+\_\+\+U\+SE$>$ P\+I\+\_\+t}



P\+I\+\_\+t Resource. 

\mbox{\Hypertarget{main_8cpp_a7687ee385c82b3ac600720b79678755a}\label{main_8cpp_a7687ee385c82b3ac600720b79678755a}} 
\index{main.\+cpp@{main.\+cpp}!Serial\+Out\+\_\+\+After@{Serial\+Out\+\_\+\+After}}
\index{Serial\+Out\+\_\+\+After@{Serial\+Out\+\_\+\+After}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{Serial\+Out\+\_\+\+After}{SerialOut\_After}}
{\footnotesize\ttfamily uint32\+\_\+t Serial\+Out\+\_\+\+After = 100000}

\mbox{\Hypertarget{main_8cpp_a691981c43e1bdddca6df5accb6927331}\label{main_8cpp_a691981c43e1bdddca6df5accb6927331}} 
\index{main.\+cpp@{main.\+cpp}!T\+T\+L\+\_\+c@{T\+T\+L\+\_\+c}}
\index{T\+T\+L\+\_\+c@{T\+T\+L\+\_\+c}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{T\+T\+L\+\_\+c}{TTL\_c}}
{\footnotesize\ttfamily \hyperlink{classTMR1Controller}{T\+M\+R1\+Controller} T\+T\+L\+\_\+c}



T\+T\+L\+\_\+c Resource. 

\mbox{\Hypertarget{main_8cpp_aec1fbfd9bfc90e447b39a9362a0c51de}\label{main_8cpp_aec1fbfd9bfc90e447b39a9362a0c51de}} 
\index{main.\+cpp@{main.\+cpp}!Update\+\_\+count@{Update\+\_\+count}}
\index{Update\+\_\+count@{Update\+\_\+count}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{Update\+\_\+count}{Update\_count}}
{\footnotesize\ttfamily volatile unsigned int Update\+\_\+count = 0}



Stores the number of updates made on the correlator channels since the last serialout. 

\mbox{\Hypertarget{main_8cpp_afaf7617e9ce0486d54a6c65fedeaf1f9}\label{main_8cpp_afaf7617e9ce0486d54a6c65fedeaf1f9}} 
\index{main.\+cpp@{main.\+cpp}!Update\+\_\+flag@{Update\+\_\+flag}}
\index{Update\+\_\+flag@{Update\+\_\+flag}!main.\+cpp@{main.\+cpp}}
\subsubsection{\texorpdfstring{Update\+\_\+flag}{Update\_flag}}
{\footnotesize\ttfamily volatile bool Update\+\_\+flag = false}



Indicates if a new value has arrived from the counting module. 

